<section id="home " class="home bg-light-pink fix ">

    <div class="container ">

        <div class="row ">
            <meta name="viewport" content="width=device-width, initial-scale=1">

            <div class="navbar">

                <div class="dropdown">
                    <button class="dropbtn">Category 
                            <i class="fa fa-caret-down"></i>
                          </button>
                    <div class="dropdown-content">
                        <a href="#">Link 1</a>
                        <a href="#">Link 2</a>
                        <a href="#">Link 3</a>
                    </div>
                </div>
            </div>
            <table class="table table-striped table-dark">
                <thead>
                    <tr>
                        <th scope="col">Date</th>
                        <th scope="col">Paid To</th>
                        <th scope="col">Payment Type</th>
                        <th scope="col">Amount</th>
                        <th scope="col">Category</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>

                    <tr *ngFor="let transaction of transactions">
                        <th *ngIf="!isEdit || checkID != transaction.id" scope="row">{{transaction.date_time}}</th>
                        <td *ngIf="!isEdit || checkID != transaction.id">{{transaction.item}}</td>
                        <td *ngIf="!isEdit || checkID != transaction.id">{{transaction.type}}</td>
                        <td *ngIf="!isEdit || checkID != transaction.id">${{transaction.amount}}</td>
                        <td *ngIf="!isEdit || checkID != transaction.id">
                            <button (click)="isEdit=true;checkID=transaction.id;" class="btn btn-default" style="margin-right:30px; width: 40px; height: 40px; text-align: center;"><i class="fa fa-pencil"></i></button>
                            <button (click)="hide(transaction.id)" class="btn btn-default" style="width: 40px; height: 40px; align-content: center;"><i class="fa fa-eye-slash"></i></button>
                        </td>
                        <!-- <form [formGroup]="editTransactionForm" (ngSubmit) = "edit(transaction.id)"> -->
                            <th *ngIf="isEdit && checkID == transaction.id" scope="row"><input type="datetime" placeholder="{{transaction.date_time}}" value="{{transaction.date_time}}"></th>
                            <td *ngIf="isEdit && checkID == transaction.id" ><input type="text" placeholder="{{transaction.item}}" value="{{transaction.item}}"></td>
                            <td *ngIf="isEdit && checkID == transaction.id" ><input type="text" placeholder="{{transaction.type}}" value="{{transaction.type}}"></td>
                            <td *ngIf="isEdit && checkID == transaction.id" ><input type="number" placeholder="{{transaction.amount}}" value="{{transaction.amount}}"></td>
                            <td *ngIf="isEdit && checkID == transaction.id" > 
                                <button type="submit" class="btn btn-default" style="margin-right:30px; width: 60px; height: 40px; text-align: center;">Save</button>
                                <button (click)="isEdit = false; checkID = null;" class="btn btn-default" style="margin-right:30px; width: 80px; height: 40px; text-align: center;">Cancel</button>
                            </td>
                        <!-- </form> -->
                    </tr>
                    <!--
                    <tr>
                        <th scope="row">02/06/2019</th>
                        <td>Safeway</td>
                        <td>Debit</td>
                        <td>11.89</td>
                    </tr>
                    <tr>
                        <th scope="row">02/05/2019</th>
                        <td>Walmart</td>
                        <td>Credit</td>
                        <td>45.60</td>
                    </tr>-->
                </tbody>
            </table>



            <div class="business_btn m-top-50 ">
                <button class="btn btn-default m-top-20 " style="margin:0px;" onclick="document.getElementById('id01').style.display='block'"> Add Transaction</button>



                <div id="id01" class="modal">
                    <form class="modal-content" [formGroup]="addTransactionForm" (ngSubmit) = "add()">
                        <div class="container">
                            <h1>Add Transaction</h1>
                            <p>Please fill in this form to add transaction</p>
                            <hr>
                            <label for="date"><b>Date</b></label>
                            <input type="datetime" placeholder="Enter Date" name="date" required>

                            <label for="item"><b>Paid to</b></label>
                            <input type="text" placeholder="Enter company/person" name="item" required>

                            <label for="type"><b>Payment Type</b></label>
                            <input type="text" placeholder="Enter Account" name="type" required>

                            <label for="amt"><b>Amount</b></label>
                            $<input type="number" placeholder="Enter Amount" name="amt" required>

                            <label for="categ"><b>Category</b></label>
                            <input type="text" placeholder="Enter Account" name="categ" required>



                            <div class="clearfix">
                                <button type="button" onclick="document.getElementById('id01').style.display='none'" class="cancelbtn">Cancel</button>
                                <button type="submit" [disabled]="!addTransactionForm.valid" class="signupbtn">Add</button>
                            </div>
                        </div>
                    </form>
                </div>

                <script>
                    // Get the modal
                    var add_modal = document.getElementById('id01');

                    // When the user clicks anywhere outside of the modal, close it
                    window.onclick = function(event) {
                        if (event.target == modal) {
                            add_modal.style.display = "none";
                        }
                    }
                </script>

            </div>
        </div>
    </div>
</section>